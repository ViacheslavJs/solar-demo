(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),(()=>{let e=0;window.onscroll=function(){let t=window.pageYOffset;e>t?(document.querySelector(".header").classList.remove("header--scroll"),document.querySelector(".messengers-box").classList.remove("messengers-box--scroll")):e<t&&(document.querySelector(".header").classList.add("header--scroll"),document.querySelector(".messengers-box").classList.add("messengers-box--scroll")),e=t}})(),(()=>{const e=document.querySelector(".messengers-box__base-icon"),t=document.querySelectorAll(".messengers-box__link");e.addEventListener("click",(t=>{e.classList.toggle("base-icon-hidden")})),t.forEach((t=>{e.addEventListener("click",(function(){t.classList.toggle("icons-show"),document.addEventListener("click",(s=>{const n=s.target.classList.contains("blind-click");s.target.className,0==n&&(t.classList.remove("icons-show"),e.classList.remove("base-icon-hidden"))}))}))}));const s=window.matchMedia("(orientation: portrait)");document.querySelectorAll(".messengers-box__link").forEach((e=>{function t(t){t.matches?(e.classList.remove("direction-x"),e.classList.add("direction-y")):(e.classList.remove("direction-y"),e.classList.add("direction-x"))}s.matches?e.classList.toggle("direction-x"):e.classList.toggle("direction-y"),t(s),s.addEventListener("change",t)}))})(),(()=>{try{if(null!==document.getElementById("lightbox")){const e=document.querySelector(".prev"),t=document.querySelector(".next");e.addEventListener("click",(function(){document.querySelectorAll(".slider-images-box").forEach((e=>{e.classList.remove("to-left"),e.classList.add("to-right")}))})),t.addEventListener("click",(function(){document.querySelectorAll(".slider-images-box").forEach((e=>{e.classList.remove("to-right"),e.classList.add("to-left")}))})),document.querySelector(".js-lightbox-click").addEventListener("click",(function(){document.querySelectorAll(".controls").forEach((e=>{setTimeout((function(){e.classList.add("show-hide-controls")}),800),setTimeout((function(){e.classList.remove("show-hide-controls")}),4500)})),s.style.display="block",l(),c.style.overflowY="hidden",v(),addEventListener("resize",a),L(1)}));const s=document.getElementById("gallery-layer"),n=document.getElementById("close"),o=document.getElementsByClassName("js-lightbox-effects"),c=document.getElementsByTagName("body")[0];let l=function(){for(let e=0;e<o.length;e++)o[e].classList.add("filter-blur-grayscale")},i=function(){for(let e=0;e<o.length;e++)o[e].classList.remove("filter-blur-grayscale")};function r(){c.style.overflowY="visible"}function a(){v()}function d(){s.style.display="none",i(),r(),removeEventListener("resize",a)}function m(){"gallery-layer"===event.target.className&&(s.style.display="none",i(),r(),removeEventListener("resize",a))}document.addEventListener("click",(e=>{document.querySelectorAll(".controls").forEach((t=>{const s=e.target.className;"slider-images-box fade"!==s&&"slider-images"!==s||t.classList.toggle("show-hide-controls")}))})),n.addEventListener("click",d),s.addEventListener("click",m);const u=document.querySelector(".prev"),g=document.querySelector(".next");u.addEventListener("click",(function(){y(-1)})),g.addEventListener("click",(function(){y(1)})),u.addEventListener("click",(function(){L(f)})),g.addEventListener("click",(function(){L(f)}));let f=1;function y(e){h(f+=e),v()}function L(e){h(f=e),v()}function h(e){const t=document.getElementsByClassName("slider-images-box"),s=document.getElementsByClassName("dot");let n;for(e>t.length&&(f=1),e<1&&(f=t.length),n=0;n<t.length;n++)t[n].style.display="none";for(n=0;n<s.length;n++)s[n].className=s[n].className.replace(" active","");t[f-1].style.display="block",s[f-1].className+=" active"}function v(){const e=document.getElementsByClassName("slideshow-container")[0],t=document.getElementById("gallery-layer");let s=t.offsetHeight,n=t.offsetWidth,o=e.offsetHeight,c=(e.offsetWidth,(s-o)/2);e.style.top=c+"px";const l=document.getElementsByClassName("slider-images");for(let i=0;i<l.length;i++){function r(){const e=document.getElementsByClassName("slideshow-container")[0],t=document.getElementById("gallery-layer");let s=t.offsetHeight,n=(t.offsetWidth,e.offsetHeight),o=(e.offsetWidth,(s-n)/2);e.style.top=o+"px"}n<s&&l[i].height>l[i].width?(l[i].style.width="calc(100%)",l[i].style.margin="auto",e.style.background="gray"):l[i].height>l[i].width&&n>s&&(l[i].style.width="calc(45% - 7px)",l[i].style.margin="auto",e.style.background="gray"),addEventListener("resize",r)}}h(f),v()}}catch(E){}})();const e=document.querySelector(".menu-icon");e.addEventListener("click",(function(){e.classList.toggle("fa-times");const t=document.querySelector(".menu");t.classList.toggle("menu-mobile"),document.addEventListener("click",(s=>{const n=s.target.classList.contains("blind-click");s.target.className,0==n&&(e.classList.remove("fa-times"),t.classList.remove("menu-mobile"))}))}));try{if(null!==document.getElementById("contacts")){let e=document.getElementsByClassName("form__body")[0];document.addEventListener("DOMContentLoaded",(function(){e.reset();const t=document.getElementById("form");t.addEventListener("submit",(async function(e){e.preventDefault();let a=function(e){let t=0,s=document.querySelectorAll("._req");for(let e=0;e<s.length;e++){const n=s[e];i(n),n.classList.contains("_email")?r(n)&&(l(n),t++):("checkbox"===n.getAttribute("type")&&!1===n.checked||""===n.value)&&(l(n),t++)}return t}(),d=new FormData(t);if(0===a){t.classList.add("_sending");let e=await fetch("sendmail.php",{method:"POST",body:d});if(e.ok){let s=await e.json();alert(s.message),formPreview.innerHTML="",t.reset(),t.classList.remove("_sending")}else alert("Ошибка!"),t.classList.remove("_sending")}else{const e=s.classList.contains("_error"),t=n.classList.contains("_error");!0===e&&(o.style.visibility="visible"),!0===t&&(c.style.visibility="visible")}}));const s=document.getElementById("formName"),n=document.getElementById("formEmail"),o=document.getElementsByClassName("form__tooltip-text")[0],c=document.getElementsByClassName("form__tooltip-text")[1];function l(e){e.parentElement.classList.add("_error"),e.classList.add("_error")}function i(e){e.parentElement.classList.remove("_error"),e.classList.remove("_error")}function r(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}s.addEventListener("focus",(function(){o.style.visibility="hidden"}),!0),n.addEventListener("focus",(function(){c.style.visibility="hidden"}),!0);const a=document.querySelector(".checkbox__label"),d=document.querySelector(".checkbox"),m=document.querySelector(".form__button");a.addEventListener("click",(()=>{m.classList.toggle("form__button--inactive"),m.classList.contains("form__button--inactive")?(m.disabled=!0,d.classList.add("_error")):(m.disabled=!1,d.classList.remove("_error"))}))}))}}catch(e){}})();